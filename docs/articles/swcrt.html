<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>swcrt: Draw and export stepped-wedge cluster randomised trial design diagrams • swcrt</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="swcrt: Draw and export stepped-wedge cluster randomised trial design diagrams">
<meta property="og:description" content="swcrt">
<meta property="og:image" content="https://mjg211.github.io/swcrt/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">swcrt</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/swcrt.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mjg211/swcrt/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="swcrt_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>swcrt: Draw and export stepped-wedge cluster randomised trial design diagrams</h1>
                        <h4 class="author">Michael J Grayling, Newcastle University (<a href="mailto:michael.grayling@newcastle.ac.uk" class="email">michael.grayling@newcastle.ac.uk</a>)</h4>
            
            <h4 class="date">10/09/2020</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/mjg211/swcrt/blob/master/vignettes/swcrt.Rmd"><code>vignettes/swcrt.Rmd</code></a></small>
      <div class="hidden name"><code>swcrt.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw"><a href="https://mjg211.github.io/swcrt">swcrt</a></span>)
<span class="co">#&gt; -----------------------------------------------------------------------------</span>
<span class="co">#&gt; swcrt: Draw and export stepped-wedge cluster randomised trial design diagrams</span>
<span class="co">#&gt; -----------------------------------------------------------------------------</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; v.0.1: For an overview of the package's functionality enter: ?swcrt</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; For news on the latest updates enter: news(package = "swcrt")</span>
</pre></div>
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>1. Introduction</h1>
<p><strong>swcrt</strong> is an R package that helps produce diagrams of stepped-wedge cluster randomised trial (SW-CRT) designs, like those advocated for inclusion when reporting SW-CRTs by <a href="https://doi.org/10.1136/bmj.k1614">Hemming <em>et al.</em> (2018)</a>. The produced diagrams can be exported in .docx, .png, and .pptx formats.</p>
<div id="getting-started" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>1.1. Getting started</h2>
<p>The latest development version of <strong>swcrt</strong> available from <a href="https://github.com/">GitHub</a> can be installed with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="kw">devtools</span>::<span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"mjg211/swcrt"</span>)
</pre></div>
<p>An introductory example of how to make use of the package’s core functionality can be found below. More detailed support is available in the remainder of this vignette. For further help, please contact <a href="https://www.newcastle-biostatistics.com/people/michael_grayling/">Michael Grayling</a> at <a href="mailto:michael.grayling@newcastle.ac.uk" class="email">michael.grayling@newcastle.ac.uk</a>.</p>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>1.2. Example</h2>
<p>As a basic example, we consider reproducing the 4-cluster 5-time period design used in the trial reported by <a href="https://doi.org/10.1136/bmjopen-2013-002674">Bashour <em>et al.</em> (2013)</a>. First, create the design matrix using <code><a href="../reference/design_sw.html">design_sw()</a></code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="kw">X</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/design_sw.html">design_sw</a></span>(clusters_per_time_period = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>),
               labels                   = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"C"</span>, <span class="st">"I"</span>))
<span class="kw">X</span>
<span class="co">#&gt;   1   2   3   4   5  </span>
<span class="co">#&gt; 1 "C" "I" "I" "I" "I"</span>
<span class="co">#&gt; 2 "C" "C" "I" "I" "I"</span>
<span class="co">#&gt; 3 "C" "C" "C" "I" "I"</span>
<span class="co">#&gt; 4 "C" "C" "C" "C" "I"</span>
</pre></div>
<p>Here, we’ve labelled the two conditions <code>"C"</code> and <code>"I"</code> to reflect their role as the control and intervention arms. The input <code>clusters_per_time_period</code> is used to specify the design; a single cluster switches in time periods two through five. We can now plot this using <code><a href="../reference/draw_sw.html">draw_sw()</a></code>, exporting in .png format:</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="kw">png_of_design</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/draw_sw.html">draw_sw</a></span>(<span class="kw">X</span>, make = <span class="st">"png"</span>)
</pre></div>
<p>The resultant .png looks as follows:</p>
<p><img src="example.png" width="50%" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="available-functions" class="section level1">
<h1 class="hasAnchor">
<a href="#available-functions" class="anchor"></a>2. Available functions</h1>
<p>Currently, two functions are exported for the user: <code>design_sw</code> and <code>draw_sw</code>. Details given in their help files is replicated below.</p>
<div id="design_sw" class="section level2">
<h2 class="hasAnchor">
<a href="#design_sw" class="anchor"></a>2.1. <code>design_sw</code>
</h2>
<div id="description" class="section level3">
<h3 class="hasAnchor">
<a href="#description" class="anchor"></a>Description</h3>
<p><code>design_sw</code> builds a binary treatment indicator matrix for a specified conventional (i.e., two treatment conditions, say control and experimental interventions) SW-CRT design, for subsequent use with <code>draw_sw</code>.</p>
</div>
<div id="usage" class="section level3">
<h3 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h3>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="fu"><a href="../reference/design_sw.html">design_sw</a></span>(clusters_per_time_period = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>),
          labels                   = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"0"</span>, <span class="st">"1"</span>),
          row_names                = <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="kw">clusters_per_time_period</span>),
          col_names                = <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span>(<span class="kw">clusters_per_time_period</span>))
</pre></div>
</div>
<div id="arguments" class="section level3">
<h3 class="hasAnchor">
<a href="#arguments" class="anchor"></a>Arguments</h3>
<ul>
<li>
<code>clusters_per_time_period</code>: A <code>numeric</code> <code>vector</code>; element <code>clusters_per_time_period[i]</code> indicates the number of clusters that switch to the experimental intervention in time period <code>i</code>. The length of <code>clusters_per_time_period</code> thus indicates the number of time periods. Defaults to <code><a href="https://rdrr.io/r/base/c.html">c(0, 1, 1, 1, 1)</a></code>.</li>
<li>
<code>labels</code>: A <code>vector</code> of <code>length</code> two, giving labels for the two intervention conditions. Defaults to <code><a href="https://rdrr.io/r/base/c.html">c("0", "1")</a></code>.</li>
<li>
<code>row_names</code>: A <code>vector</code>, giving <code>rownames</code> to add to the produced design. Must have <code>length</code> equal to <code><a href="https://rdrr.io/r/base/sum.html">sum(clusters_per_time_period)</a></code>.</li>
<li>
<code>col_names</code>: A <code>vector</code>, giving <code>colnames</code> to add to the produced design. Must have <code>length</code> equal to <code><a href="https://rdrr.io/r/base/length.html">length(clusters_per_time_period)</a></code>.</li>
</ul>
</div>
<div id="value" class="section level3">
<h3 class="hasAnchor">
<a href="#value" class="anchor"></a>Value</h3>
<p>Returns the binary treatment indicator matrix, in <code>matrix</code> form, for the implied SW-CRT design. This can be passed to <code>draw_sw</code>.</p>
</div>
</div>
<div id="draw_sw" class="section level2">
<h2 class="hasAnchor">
<a href="#draw_sw" class="anchor"></a>2.2. <code>draw_sw</code>
</h2>
<div id="description-1" class="section level3">
<h3 class="hasAnchor">
<a href="#description-1" class="anchor"></a>Description</h3>
<p><code>draw_sw</code> draws SW-CRT design diagrams that can be exported in .docx, .png, and .pptx formats.</p>
</div>
<div id="usage-1" class="section level3">
<h3 class="hasAnchor">
<a href="#usage-1" class="anchor"></a>Usage</h3>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="fu"><a href="../reference/draw_sw.html">draw_sw</a></span>(design         = <span class="fu"><a href="../reference/design_sw.html">design_sw</a></span>(),
        cp_contents    = <span class="kw">design</span>,
        row_names      = <span class="fl">FALSE</span>,
        col_names      = <span class="fl">FALSE</span>,
        <span class="kw">colours</span>,
        combine_rows   = <span class="fl">FALSE</span>,
        merge_cols     = <span class="fl">FALSE</span>,
        xlab           = <span class="st">"Time period"</span>,
        ylab           = <span class="st">"Cluster"</span>,
        cp_text_colour = <span class="st">"black"</span>,
        <span class="kw">key_interventions</span>,
        <span class="kw">key_time_periods</span>,
        make           = <span class="st">"print"</span>,
        filename       = <span class="st">"swcrt"</span>)
</pre></div>
</div>
<div id="arguments-1" class="section level3">
<h3 class="hasAnchor">
<a href="#arguments-1" class="anchor"></a>Arguments</h3>
<ul>
<li>
<code>design</code>: A SW-CRT design (i.e., information on the planned roll-out) to draw a diagram for. Must be either a <code>data.frame</code> or a matrix. Defaults to <code><a href="../reference/design_sw.html">design_sw()</a></code>.</li>
<li>
<code>cp_contents</code>: Values to add to the cluster-period cells in the produced diagram; modify this when cluster-period cells should contain details on something other than the intervention condition. Must be either a <code>data.frame</code> or a <code>matrix</code>. Defaults to <code>design</code>.</li>
<li>
<code>row_names</code>: A <code>logical</code> variable, indicating whether the row names in the produced diagram should be taken from design or constructed internally. Defaults to <code>FALSE</code>.</li>
<li>
<code>col_names</code>: A <code>logical</code> variable, indicating whether the column names in the produced diagram should be taken from design or constructed internally. Defaults to <code>FALSE</code>.</li>
<li>
<code>colours</code>: A named (see <code>names</code>) <code>character</code> <code>vector</code>, giving the fill colours to add to the cluster-period cells for each of the intervention conditions. Specified internally by default.</li>
<li>
<code>combine_rows</code>: A <code>logical</code> variable, indicating whether to combine rows that have identical sequences in the produced diagram. Defaults to <code>FALSE</code>.</li>
<li>
<code>merge_cols</code>: A <code>logical</code> variable, indicating whether to merge across columns when adjacent cluster-period cells have the same intervention condition in the produced diagram. Defaults to <code>FALSE</code>.</li>
<li>
<code>xlab</code>: A <code>character</code> string, giving the label for the x-axis in the produced diagram. Defaults to <code>"Time period"</code>.</li>
<li>
<code>ylab</code>: A <code>character</code> string, giving the label for the y-axis in the produced diagram. Defaults to <code>"Cluster"</code>.</li>
<li>
<code>cp_text_colour</code>: A <code>character</code> string, giving the colour to use for the text in the cluster-period cells in the produced diagram. Defaults to <code>"black"</code>.</li>
<li>
<code>key_interventions</code>: A named (see <code>names</code>) <code>character</code> <code>vector</code>, giving information to include an intervention key. Not produced by default.</li>
<li>
<code>key_time_periods</code>: A named (see <code>names</code>) <code>character</code> <code>vector</code>, giving information to include a time period key. Not produced by default.</li>
<li>
<code>make</code>: A <code>character</code> <code>vector</code>, giving the (potentially multiple) types of output (export) that are desired. Can include <code>"print"</code> (view within R), <code>"docx"</code> (save a .docx MS Word file), <code>"png"</code> (save a .png file), and <code>"pptx"</code> (save a .pptx MS PowerPoint file). Defaults to <code>"print"</code>.</li>
<li>
<code>filename</code>: A <code>character</code> string, giving the filename to use for any files that are to be saved. Defaults to <code>"swcrt"</code>.</li>
</ul>
</div>
<div id="value-1" class="section level3">
<h3 class="hasAnchor">
<a href="#value-1" class="anchor"></a>Value</h3>
<p>A <code>list</code> containing the following elements:</p>
<ul>
<li>A <code>flextable</code> in the slot <code>$table_design</code> containing the constructed SW-CRT diagram.</li>
<li>A <code>flextable</code> in the slot <code>$table_interventions</code> containing the constructed key summarising the various intervention states. Will be <code>NULL</code> if input <code>key_interventions</code> is not specified.</li>
<li>A <code>flextable</code> in the slot <code>$table_time_periods</code> containing the constructed key summarising the various time periods. Will be <code>NULL</code> if input <code>key_time_periods</code> is not specified.</li>
<li>A <code>list</code> in the slot <code>$inputs</code> containing each of the input variables.</li>
</ul>
</div>
</div>
</div>
<div id="detailed-example" class="section level1">
<h1 class="hasAnchor">
<a href="#detailed-example" class="anchor"></a>3. Detailed example</h1>
<p>We now demonstrate the utility of each of the input variables through a single minimally complex example. We consider the case where there are three ‘intervention’ conditions: control (<code>"C"</code>), transition (<code>"T"</code>), and experimental (<code>"E"</code>). The planned design is:</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="kw">design</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"C"</span>, <span class="st">"T"</span>, <span class="st">"E"</span>, <span class="st">"E"</span>, <span class="st">"E"</span>),
                <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"C"</span>, <span class="st">"T"</span>, <span class="st">"E"</span>, <span class="st">"E"</span>, <span class="st">"E"</span>),
                <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"C"</span>, <span class="st">"C"</span>, <span class="st">"T"</span>, <span class="st">"E"</span>, <span class="st">"E"</span>),
                <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"C"</span>, <span class="st">"T"</span>, <span class="st">"E"</span>, <span class="st">"E"</span>, <span class="st">"E"</span>),
                <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"C"</span>, <span class="st">"C"</span>, <span class="st">"T"</span>, <span class="st">"E"</span>, <span class="st">"E"</span>),
                <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"C"</span>, <span class="st">"C"</span>, <span class="st">"C"</span>, <span class="st">"T"</span>, <span class="st">"E"</span>),
                <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"C"</span>, <span class="st">"C"</span>, <span class="st">"C"</span>, <span class="st">"T"</span>, <span class="st">"E"</span>),
                <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"C"</span>, <span class="st">"C"</span>, <span class="st">"C"</span>, <span class="st">"T"</span>, <span class="st">"E"</span>))
</pre></div>
<p>Note that the sequences are deliberately not ordered in a ‘clean’ manner. Using all of the default parameters, we use <code>draw_sw</code> as follows:</p>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="kw">default</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/draw_sw.html">draw_sw</a></span>(<span class="kw">design</span>)
</pre></div>
<p><img src="eg3.png" width="50%" style="display: block; margin: auto;"></p>
<div id="design" class="section level2">
<h2 class="hasAnchor">
<a href="#design" class="anchor"></a>3.1. <code>design</code>
</h2>
<p>Above, <code>design</code> is specified to <code>draw_sw</code> in <code>matrix</code> form. This can be specified instead as a <code>data.frame</code> if desired. Thus the following produces the same output as the above:</p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="kw">changing_design</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/draw_sw.html">draw_sw</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span>(<span class="kw">design</span>))
</pre></div>
</div>
<div id="cp_contents" class="section level2">
<h2 class="hasAnchor">
<a href="#cp_contents" class="anchor"></a>3.2. <code>cp_contents</code>
</h2>
<p>Suppose that the plan is to accrue 100 measurements (patient outcomes) in each cluster-period in the control condition, 0 measurements in each cluster-period in the transition condition, and 50 measurements in each cluster-period in the experimental condition. We can add this information to the diagram, rather than labelling the cluster-period cells with C, T, and E, using the argument <code>cp_contents</code>, as follows:</p>
<div class="sourceCode" id="cb10"><pre class="downlit">
<span class="kw">cp_contents</span>          <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">100</span>,   <span class="fl">0</span>,  <span class="fl">50</span>,  <span class="fl">50</span>,  <span class="fl">50</span>),
                              <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">100</span>,   <span class="fl">0</span>,  <span class="fl">50</span>,  <span class="fl">50</span>,  <span class="fl">50</span>),
                              <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">100</span>, <span class="fl">100</span>,   <span class="fl">0</span>,  <span class="fl">50</span>,  <span class="fl">50</span>),
                              <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">100</span>,   <span class="fl">0</span>,  <span class="fl">50</span>,  <span class="fl">50</span>,  <span class="fl">50</span>),
                              <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">100</span>, <span class="fl">100</span>,   <span class="fl">0</span>,  <span class="fl">50</span>,  <span class="fl">50</span>),
                              <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">100</span>, <span class="fl">100</span>, <span class="fl">100</span>,   <span class="fl">0</span>,  <span class="fl">50</span>),
                              <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">100</span>, <span class="fl">100</span>, <span class="fl">100</span>,   <span class="fl">0</span>,  <span class="fl">50</span>),
                              <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">100</span>, <span class="fl">100</span>, <span class="fl">100</span>,   <span class="fl">0</span>,  <span class="fl">50</span>))
<span class="kw">changing_cp_contents</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/draw_sw.html">draw_sw</a></span>(<span class="kw">design</span>, <span class="kw">measurements</span>)
</pre></div>
<p><img src="eg3.2.png" width="50%" style="display: block; margin: auto;"></p>
<p>Observe that the cells are still coloured according to the intervention condition.</p>
</div>
<div id="row_names" class="section level2">
<h2 class="hasAnchor">
<a href="#row_names" class="anchor"></a>3.3. <code>row_names</code>
</h2>
<p>By default, <code>draw_sw</code> labels the rows of the diagram from 1 through to the number of clusters (i.e., the number of rows in <code>design</code>). If we wanted to label these differently (e.g., using location names), we can do this by first adding the desired row names to <code>design</code> and then setting <code>row_names = T</code> in the call to <code>draw_sw</code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span>(<span class="kw">design</span>)   <span class="op">&lt;-</span> <span class="kw">letters</span>[<span class="fl">1</span><span class="op">:</span><span class="fl">8</span>]
<span class="kw">changing_row_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/draw_sw.html">draw_sw</a></span>(<span class="kw">design</span>, row_names = <span class="fl">TRUE</span>)
</pre></div>
<p><img src="eg3.3.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="col_names" class="section level2">
<h2 class="hasAnchor">
<a href="#col_names" class="anchor"></a>3.4. <code>col_names</code>
</h2>
<p>Similar to the way we used <code>row_names</code> above, we can modify the labels for the diagrams columns using <code>col_names</code>. For example:</p>
<div class="sourceCode" id="cb12"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span>(<span class="kw">design</span>)   <span class="op">&lt;-</span> <span class="kw">month.abb</span>[<span class="fl">1</span><span class="op">:</span><span class="fl">5</span>]
<span class="kw">changing_col_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/draw_sw.html">draw_sw</a></span>(<span class="kw">design</span>, col_names = <span class="fl">TRUE</span>)
</pre></div>
<p><img src="eg3.4.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="colours" class="section level2">
<h2 class="hasAnchor">
<a href="#colours" class="anchor"></a>3.5. <code>colours</code>
</h2>
<p>By default, <code>swcrt</code> will choose the fill colours associated with the intervention conditions for you. If you want to specify these yourself, you can use the option <code>colours</code>, which must be a named (see <code>names</code>) <code>character</code> <code>vector</code> containing a value for all the intervention conditions given in <code>design</code>:</p>
<div class="sourceCode" id="cb13"><pre class="downlit">
<span class="kw">changing_colours</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/draw_sw.html">draw_sw</a></span>(<span class="kw">design</span>, colours = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"C"</span> = <span class="st">"steelblue1"</span>,
                                                <span class="st">"T"</span> = <span class="st">"steelblue3"</span>,
                                                <span class="st">"E"</span> = <span class="st">"steelblue4"</span>))
</pre></div>
<p><img src="eg3.5.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="combine_rows" class="section level2">
<h2 class="hasAnchor">
<a href="#combine_rows" class="anchor"></a>3.6. <code>combine_rows</code>
</h2>
<p>In some cases, particularly for designs with a large number of clusters, it may make sense to plot the design with the rows defining the unique sequences in use. This can be achieved using <code>combine_rows</code>, which also perhaps row name manipulation for us:</p>
<div class="sourceCode" id="cb14"><pre class="downlit">
<span class="kw">changing_combine_rows</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/draw_sw.html">draw_sw</a></span>(<span class="kw">design</span>, combine_rows = <span class="fl">TRUE</span>)
</pre></div>
<p><img src="eg3.6.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="merge_cols" class="section level2">
<h2 class="hasAnchor">
<a href="#merge_cols" class="anchor"></a>3.7. <code>merge_cols</code>
</h2>
<p>In some cases, we might want to within rows merge across columns that contain the same content. This can be achieved using the input <code>merge_cols</code> as follows:</p>
<div class="sourceCode" id="cb15"><pre class="downlit">
<span class="kw">changing_merge_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/draw_sw.html">draw_sw</a></span>(<span class="kw">design</span>, merge_cols = <span class="fl">TRUE</span>)
</pre></div>
<p><img src="eg3.7.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="xlab" class="section level2">
<h2 class="hasAnchor">
<a href="#xlab" class="anchor"></a>3.8. <code>xlab</code>
</h2>
<p>We can change the label for the diagram’s columns using <code>xlab</code>:</p>
<div class="sourceCode" id="cb16"><pre class="downlit">
<span class="kw">changing_xlab</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/draw_sw.html">draw_sw</a></span>(<span class="kw">design</span>, xlab = <span class="st">"Periods of time"</span>)
</pre></div>
<p><img src="eg3.8.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="ylab" class="section level2">
<h2 class="hasAnchor">
<a href="#ylab" class="anchor"></a>3.9. <code>ylab</code>
</h2>
<p>Similarly, we can change the label for the diagram’s rows using <code>ylab</code>:</p>
<div class="sourceCode" id="cb17"><pre class="downlit">
<span class="kw">changing_ylab</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/draw_sw.html">draw_sw</a></span>(<span class="kw">design</span>, ylab = <span class="st">"Group"</span>)
</pre></div>
<p><img src="eg3.9.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="cp_text_colour" class="section level2">
<h2 class="hasAnchor">
<a href="#cp_text_colour" class="anchor"></a>3.10. <code>cp_text_colour</code>
</h2>
<p>Certain cluster-period fill colours may make reading the contents of the cluster-periods challenging. We can overcome this by modifying the cluster-period text colour with <code>cp_text_colour</code>:</p>
<div class="sourceCode" id="cb18"><pre class="downlit">
<span class="kw">changing_cp_text_colour</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/draw_sw.html">draw_sw</a></span>(<span class="kw">design</span>, cp_text_colour = <span class="st">"white"</span>)
</pre></div>
<p><img src="eg3.10.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="key_interventions" class="section level2">
<h2 class="hasAnchor">
<a href="#key_interventions" class="anchor"></a>3.11. <code>key_interventions</code>
</h2>
<p>Particularly when the cluster-period cells are labelled with something other than the intervention condition, it may be helpful to produce a separate key describing the intervention conditions in more detail. We can do this with <code>key_intervention</code>, which should be a named <code>character</code> <code>vector</code>:</p>
<div class="sourceCode" id="cb19"><pre class="downlit">
<span class="kw">changing_key_interventions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/draw_sw.html">draw_sw</a></span>(<span class="kw">design</span>,
                                      key_interventions = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"C"</span> = <span class="st">"Control"</span>,
                                                            <span class="st">"T"</span> = <span class="st">"Transition"</span>,
                                                            <span class="st">"E"</span> =
                                                              <span class="st">"Experimental"</span>))
</pre></div>
<p>This produces the diagram as before, but also provides: <img src="eg3.11_key_interventions.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="key_time_periods" class="section level2">
<h2 class="hasAnchor">
<a href="#key_time_periods" class="anchor"></a>3.12. <code>key_time_periods</code>
</h2>
<p>Similarly to the above, we can also produce a key giving more detail on the time periods with <code>key_time_periods</code>:</p>
<div class="sourceCode" id="cb20"><pre class="downlit">
<span class="kw">key_time_periods</span>           <span class="op">&lt;-</span> <span class="kw">month.abb</span>[<span class="fl">1</span><span class="op">:</span><span class="fl">5</span>]
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="kw">key_time_periods</span>)    <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>
<span class="kw">changing_key_interventions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/draw_sw.html">draw_sw</a></span>(<span class="kw">design</span>,
                                      key_time_periods = <span class="kw">key_time_periods</span>)
</pre></div>
<p><img src="eg3.12_key_time_periods.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="make" class="section level2">
<h2 class="hasAnchor">
<a href="#make" class="anchor"></a>3.13. <code>make</code>
</h2>
<p><code>swcrt</code> can print the produced diagram for view in R, and can export the diagram in a variety of formats. Different formats can be produced simultaneously. We specify what we desire using <code>make</code>. E.g., all possible options:</p>
<div class="sourceCode" id="cb21"><pre class="downlit">
<span class="kw">changing_make</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/draw_sw.html">draw_sw</a></span>(<span class="kw">design</span>, make = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"print"</span>, <span class="st">"docx"</span>, <span class="st">"png"</span>, <span class="st">"pptx"</span>))
</pre></div>
</div>
<div id="filename" class="section level2">
<h2 class="hasAnchor">
<a href="#filename" class="anchor"></a>3.14. <code>filename</code>
</h2>
<p>When we produce a .docx, .png, or .pptx file, a filename is required. This is specified using <code>filename</code>. For example:</p>
<div class="sourceCode" id="cb22"><pre class="downlit">
<span class="kw">changing_filename</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/draw_sw.html">draw_sw</a></span>(<span class="kw">design</span>, make = <span class="st">"docx"</span>, filename = <span class="st">"different_name"</span>)
</pre></div>
<p>Will save a file different_name.docx.</p>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<p>Bashour HN, Kanaan M, Kharouf MH, Abdulsalam AA, Tabbaa MA, Cheikha SA. The effect of training doctors in communication skills on women’s satisfaction with doctor–woman relationship during labour and delivery: A stepped wedge cluster randomised trial in Damascus. <em>BMJ Open</em> 2013;<strong>3</strong>,e002674. DOI: <a href="https://doi.org/10.1136/bmjopen-2013-002674">10.1136/bmjopen-2013-002674</a>. PMID: <a href="https://pubmed.ncbi.nlm.nih.gov/23945729/">23945729</a>.</p>
<p>Hemming K, Taljaard M, McKenzie JE, Hooper R, Copas A, Thompson JA, Dixon-Woods M, Aldcroft A, Doussau A, Grayling M, Kristunas C, Goldstein CE, Campbell MK, Girling A, Eldridge S, Campbell MJ, Lilford RJ, Weijer C, Forbes AB, Grimshaw JM. Reporting of stepped wedge cluster randomised trials: Extension of the CONSORT 2010 statement with explanation and elaboration. <em>BMJ</em> 2018;<strong>363</strong>,k1614. DOI: <a href="https://doi.org/10.1136/bmj.k1614">10.1136/bmj.k1614</a>. PMID: <a href="https://pubmed.ncbi.nlm.nih.gov/30413417/">30413417</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Michael J Grayling.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.0.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
